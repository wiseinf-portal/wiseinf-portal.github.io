"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[662],{99064:function(ie,S,t){t.r(S),t.d(S,{default:function(){return J}});var D=t(77117),d=t.n(D),O=t(28152),P=t.n(O),E=t(8046),N=t(63630),V=t(81820),u=t(66405),C=t(93236),G=t(92279),p=t(25884),f=t(32911),U=t(80237),h=t(46338),F=t(85111),z=t(39615),Y=t(79348),Z=t(79738),B=t(93901),K=t(92820),l=t(77081),W=t.p+"static/opt.9dad2844.png",T=t.p+"static/action.24d24edc.png",$=t.p+"static/cloud.30441a2f.png",Q=t.p+"static/more.e7222124.png",e=t(62086),L=Y.Z.Content,H=function(s){var A=s.imageUrl,m=s.title,g=s.description;return(0,e.jsx)(G.Z,{children:(0,e.jsxs)(p.Z,{children:[(0,e.jsx)(f.Z,{span:3,children:(0,e.jsx)(U.C,{shape:"square",size:60,src:A})}),(0,e.jsxs)(f.Z,{span:20,children:[(0,e.jsx)("h3",{children:m}),(0,e.jsx)("div",{className:"center-content",children:(0,e.jsx)("div",{className:"description-text",children:g})})]})]})})},te=function(){var s=(0,N.useIntl)(),A=(0,C.useState)(!1),m=P()(A,2),g=m[0],w=m[1],I=(0,l.D3)(),n=I.isAuthenticated,k=function(a){(0,u.sM)(s.formatMessage({id:"components.notification.title.success"}),s.formatMessage({id:"api.subscription.createSubscription.success",defaultMessage:"\u521B\u5EFA\u8BA2\u9605\u6210\u529F\uFF0C\u8BA2\u9605ID\u662F{subscriptionId}\u3002"},{subscriptionId:a.referenceId})),w(!0)},q=function(){(0,u.o7)(s.formatMessage({id:"components.notification.title.info"}),s.formatMessage({id:"api.subscription.createSubscription.cancel",defaultMessage:"\u60A8\u5DF2\u53D6\u6D88\u8BA2\u9605\u3002"}))},o=function(a){if(V.default.isAxiosError(a)){(0,u.hA)(s.formatMessage({id:"components.notification.title.error",defaultMessage:"\u9519\u8BEF"}),s.formatMessage({id:"api.subscription.createSubscription.failed",defaultMessage:"\u521B\u5EFA\u8BA2\u9605\u5931\u8D25\uFF0C\u8BF7\u8054\u7CFB\u6211\u4EEC\u3002"},{code:a.code}),a,s);return}(0,u.bV)(s.formatMessage({id:"components.notification.title.error",defaultMessage:"\u9519\u8BEF"}),s.formatMessage({id:"api.subscription.createSubscription.error",defaultMessage:"\u975E\u5E38\u62B1\u6B49\uFF0C\u8BA2\u9605\u8FC7\u7A0B\u4E2D\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u60A8\u91CD\u65B0\u5C1D\u8BD5\u3002"}),a,s)},_={fixSiderbar:!0,layout:"top",splitMenus:!0},R={clientId:"AeQwuRQGjgWr3o8v5fBj8A4pD6ax_z1XCbjDGj-whgGlTbZCtGg_0OpqqqeYiDucn8GEj7q0PJ80kHqy",currency:"USD",vault:!0,intent:"subscription"};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(E.f,d()(d()({logo:(0,e.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:s.formatMessage({id:"application.name",defaultMessage:"Cluster Optimizer"}),headerTitleRender:function(a,se,ee){var y=(0,e.jsxs)("a",{onClick:function(){},children:[a,s.formatMessage({id:"pages.subscribe.title",defaultMessage:"Subscribe Cluster Optimizer"})]});return typeof document=="undefined"||document.body.clientWidth<1400||ee.isMobile?y:(0,e.jsx)(e.Fragment,{children:y})},actionsRender:function(a){return a.isMobile?[]:[(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(K.Z,{})})]},footerRender:function(){return(0,e.jsx)(B.Z,{})}},_),{},{children:(0,e.jsxs)(L,{className:"content",children:[(0,e.jsxs)("div",{className:"left-panel",children:[(0,e.jsx)("h2",{children:"Maximize cost efficiency for your kubernetes cluster and unlock savings of up to 50% on your cluster expenses."}),(0,e.jsx)(h.Z,{}),(0,e.jsx)(Z.Z,{grid:{gutter:16,column:1},dataSource:[{imageUrl:W,title:"Continuous optimization insight",description:"Get right size of nodes, adjust your node groups and so on."},{imageUrl:T,title:"Automated actions",description:"Cluster hibernate, adjust/delete pv, workload and so on."},{imageUrl:$,title:"Multi-cloud integration",description:"AWS and Alibaba Cloud integration."},{imageUrl:Q,title:"And more...",description:"Easy to use, keep data privacy, correlate resource with owners and so on."}],renderItem:function(a){return(0,e.jsx)(Z.Z.Item,{children:(0,e.jsx)(H,d()({},a))})}})]}),(0,e.jsxs)("div",{className:"right-panel",children:[!n&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("h2",{children:[s.formatMessage({id:"pages.subscribe.login.required",defaultMessage:"You need to login to subscribe"})," "]})}),n&&(0,e.jsxs)(e.Fragment,{children:[!g&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("h2",{children:[s.formatMessage({id:"pages.subscribe.now",defaultMessage:"Subscribe Now"})," "]}),(0,e.jsx)(h.Z,{}),(0,e.jsx)(F.Vv,{options:R,children:(0,e.jsx)(z.Z,{onOK:k,onCancel:q,onError:o})})]}),g&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("h2",{children:[s.formatMessage({id:"pages.subscribe.thankyou",defaultMessage:"Thank you for subscribing!"})," "]}),(0,e.jsx)(h.Z,{}),(0,e.jsxs)("p",{children:[s.formatMessage({id:"pages.subscribe.management.description",defaultMessage:"You can manage your subscription via url "}),(0,e.jsx)("a",{href:"https://portal.wiseinf.com/subscriptions",children:"https://portal.wiseinf.com/subscriptions"}),"."]})]})]})]})]})}))})},J=(0,l.u3)(te)},39615:function(ie,S,t){t.d(S,{Z:function(){return s}});var D=t(77117),d=t.n(D),O=t(13448),P=t.n(O),E=t(74815),N=t.n(E),V=t(28152),u=t.n(V),C=t(93236),G=t(84611),p=t(31289),f=t(94462),U=t(24917),h=t(25884),F=t(32911),z=t(11835),Y=t(46338),Z=t(12858),B=t(3896),K=t(63630),l=t(24555),W=t(30019),T=t(85111),$=t(77081),Q=t(7814),e=t(62086),L={labelCol:{span:6},wrapperCol:{span:18}},H={wrapperCol:{span:18,offset:4}},te=G.default.Option,J=(1*12-10)/(1*12),X=function(m){var g=m.onOK,w=m.onCancel,I=m.onError,n=(0,K.useIntl)(),k=p.Z.useForm(),q=u()(k,1),o=q[0],_=(0,C.useState)(!0),R=u()(_,2),v=R[0],a=R[1],se=(0,$.D3)(),ee=se.getAccessTokenSilently;(0,C.useEffect)(function(){y()});var y=function(){o.setFieldsValue({type:l.SubscriptionType.Monthly,amount:50,agreement:!1})},ae=function(){var c=N()(P()().mark(function r(i){var j,x,b,re;return P()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return j=o.getFieldValue("type"),x=o.getFieldValue("amount"),b={subscriptionType:j,amount:x,payChannel:"paypal",state:l.SubscriptionState.Paid,referenceId:i},M.next=5,ee({detailedResponse:!0});case 5:re=M.sent,W.B.createSubscription(b,{withCredentials:!0,headers:{Authorization:"Bearer "+re.id_token}}).then(function(oe){g(b)}).catch(function(oe){var he=oe;I(he)});case 7:case"end":return M.stop()}},r)}));return function(i){return c.apply(this,arguments)}}(),le=function(r,i){var j=o.getFieldValue("type"),x="P-2DK51912401274252M3D6Y4Q";j==l.SubscriptionType.Yearly&&(x="P-1VT42567GB640534WM3D6ZUA");var b=o.getFieldValue("amount");return i.subscription.create({plan_id:x,quantity:b})},ce=(0,T.Up)(),de=u()(ce,1),ne=de[0],ue=ne.isPending,pe=ne.isRejected,me=function(r,i){return o.validateFields().then(function(j){return ae(r.subscriptionID)})},ve=function(r,i){w()},fe=function(r){I(r)},ge=function(){var r=o.getFieldValue("type"),i=o.getFieldValue("amount");switch(r){case l.SubscriptionType.Monthly:return 1*i;case l.SubscriptionType.Yearly:return 10*i;default:return 1*i}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(p.Z,d()(d()({},L),{},{form:o,name:"control-ref",initialValues:{type:l.SubscriptionType.Monthly,amount:10},children:[(0,e.jsx)(p.Z.Item,{name:"type",label:n.formatMessage({id:"model.subscription.type"}),rules:[{required:!0}],children:(0,e.jsxs)(f.ZP.Group,{children:[(0,e.jsx)(f.ZP,{value:l.SubscriptionType.Monthly,children:n.formatMessage({id:"model.subscription.type.monthly"})}),(0,e.jsxs)(f.ZP,{value:l.SubscriptionType.Yearly,children:[n.formatMessage({id:"model.subscription.type.yearly"}),(0,e.jsxs)("div",{className:"red-text",children:["Save ",(0,Q.rl)(J)," annually."]})]})]})}),(0,e.jsx)(p.Z.Item,{name:"amount",label:n.formatMessage({id:"model.subscription.amount"}),rules:[{required:!0}],children:(0,e.jsx)(U.Z,{min:10,max:1e4})}),(0,e.jsx)(p.Z.Item,{noStyle:!0,label:n.formatMessage({id:"components.subscriptionModal.totalCost"}),dependencies:["type","amount"],style:{marginTop:20},children:function(){return(0,e.jsxs)(h.Z,{children:[(0,e.jsx)(F.Z,{span:"6",className:"totalPrice",children:n.formatMessage({id:"components.subscriptionModal.totalCost"})}),(0,e.jsxs)(F.Z,{children:[(0,e.jsxs)("h2",{className:"price",children:[(0,e.jsx)("span",{className:"priceCurrency",children:"$"}),(0,e.jsx)("span",{className:"priceDollar",children:ge()}),".",(0,e.jsx)("span",{className:"priceCent",children:"00"}),(0,e.jsxs)("span",{children:[" / ",n.formatMessage({id:"components.subscriptionModal.paymentPeriod."+o.getFieldValue("type")})]})]}),n.formatMessage({id:"components.subscriptionModal.1monthfree"})]})]})}}),(0,e.jsx)("p",{}),(0,e.jsx)(p.Z.Item,d()(d()({name:"agreement",valuePropName:"checked",rules:[{validator:function(r,i){return i?Promise.resolve():Promise.reject(new Error("Should accept agreement"))}}]},H),{},{children:(0,e.jsxs)(z.Z,{onChange:function(r){a(!r.target.checked)},children:["I agree to the ",(0,e.jsx)("a",{href:"https://www.wiseinf.com/aggreement",children:" Services Agreement."})]})}))]})),(0,e.jsx)(Y.Z,{}),ue?(0,e.jsxs)(Z.Z,{children:[n.formatMessage({id:"components.subscriptionModal.loadingScript"})," "]}):null,pe?(0,e.jsx)(B.Z,{message:n.formatMessage({id:"components.subscriptionModal.loadingScript.failed"})}):null,(0,e.jsx)(T.ch,{createSubscription:le,onApprove:me,onError:fe,onCancel:ve,disabled:v,style:{shape:"rect",color:"blue",layout:"vertical",label:"subscribe"}})]})},s=X}}]);
