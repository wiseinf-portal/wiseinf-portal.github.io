"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[662],{82739:function(le,P,t){t.r(P),t.d(P,{default:function(){return J}});var O=t(77117),d=t.n(O),D=t(28152),C=t.n(D),E=t(24307),N=t(60822),V=t(81820),u=t(64619),F=t(93236),G=t(74586),p=t(58178),f=t(17799),U=t(80656),h=t(12146),Z=t(26230),z=t(7116),Y=t(74086),T=t(89130),B=t(57380),K=t(26362),l=t(66768),W=t.p+"static/opt.9dad2844.png",A=t.p+"static/action.24d24edc.png",$=t.p+"static/cloud.30441a2f.png",Q=t.p+"static/more.e7222124.png",e=t(62086),L=Y.Z.Content,H=function(s){var I=s.imageUrl,m=s.title,g=s.description;return(0,e.jsx)(G.Z,{children:(0,e.jsxs)(p.Z,{children:[(0,e.jsx)(f.Z,{span:3,children:(0,e.jsx)(U.C,{shape:"square",size:60,src:I})}),(0,e.jsxs)(f.Z,{span:20,children:[(0,e.jsx)("h3",{children:m}),(0,e.jsx)("div",{className:"center-content",children:(0,e.jsx)("div",{className:"description-text",children:g})})]})]})})},te=function(){var s=(0,N.useIntl)(),I=(0,F.useState)(!1),m=C()(I,2),g=m[0],w=m[1],y=(0,l.D3)(),n=y.isAuthenticated,se=y.loginWithRedirect,k=function(a){(0,u.sM)(s.formatMessage({id:"components.notification.title.success"}),s.formatMessage({id:"api.subscription.createSubscription.success",defaultMessage:"\u521B\u5EFA\u8BA2\u9605\u6210\u529F\uFF0C\u8BA2\u9605ID\u662F{subscriptionId}\u3002"},{subscriptionId:a.referenceId})),w(!0)},i=function(){(0,u.o7)(s.formatMessage({id:"components.notification.title.info"}),s.formatMessage({id:"api.subscription.createSubscription.cancel",defaultMessage:"\u60A8\u5DF2\u53D6\u6D88\u8BA2\u9605\u3002"}))},q=function(a){if(V.default.isAxiosError(a)){(0,u.hA)(s.formatMessage({id:"components.notification.title.error",defaultMessage:"\u9519\u8BEF"}),s.formatMessage({id:"api.subscription.createSubscription.failed",defaultMessage:"\u521B\u5EFA\u8BA2\u9605\u5931\u8D25\uFF0C\u8BF7\u8054\u7CFB\u6211\u4EEC\u3002"},{code:a.code}),a,s);return}(0,u.bV)(s.formatMessage({id:"components.notification.title.error",defaultMessage:"\u9519\u8BEF"}),s.formatMessage({id:"api.subscription.createSubscription.error",defaultMessage:"\u975E\u5E38\u62B1\u6B49\uFF0C\u8BA2\u9605\u8FC7\u7A0B\u4E2D\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u60A8\u91CD\u65B0\u5C1D\u8BD5\u3002"}),a,s)},R={fixSiderbar:!0,layout:"top",splitMenus:!0},_={clientId:"AeQwuRQGjgWr3o8v5fBj8A4pD6ax_z1XCbjDGj-whgGlTbZCtGg_0OpqqqeYiDucn8GEj7q0PJ80kHqy",currency:"USD",vault:!0,intent:"subscription"};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(E.f,d()(d()({logo:(0,e.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:s.formatMessage({id:"application.name",defaultMessage:"Cluster Optimizer"}),headerTitleRender:function(a,ae,ee){var j=(0,e.jsxs)("a",{onClick:function(){},children:[a,s.formatMessage({id:"pages.subscribe.title",defaultMessage:"Subscribe Cluster Optimizer"})]});return typeof document=="undefined"||document.body.clientWidth<1400||ee.isMobile?j:(0,e.jsx)(e.Fragment,{children:j})},actionsRender:function(a){return a.isMobile?[]:[(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(K.Z,{})})]},footerRender:function(){return(0,e.jsx)(B.Z,{})}},R),{},{children:(0,e.jsxs)(L,{className:"content",children:[(0,e.jsxs)("div",{className:"left-panel",children:[(0,e.jsx)("h2",{children:"Maximize cost efficiency for your kubernetes cluster and unlock savings of up to 50% on your cluster expenses."}),(0,e.jsx)(h.Z,{}),(0,e.jsx)(T.Z,{grid:{gutter:16,column:1},dataSource:[{imageUrl:W,title:"Continuous optimization insight",description:"Get right size of nodes, adjust your node groups and so on."},{imageUrl:A,title:"Automated actions",description:"Cluster hibernate, adjust/delete pv, workload and so on."},{imageUrl:$,title:"Multi-cloud integration",description:"AWS and Alibaba Cloud integration."},{imageUrl:Q,title:"And more...",description:"Easy to use, keep data privacy, correlate resource with owners and so on."}],renderItem:function(a){return(0,e.jsx)(T.Z.Item,{children:(0,e.jsx)(H,d()({},a))})}})]}),(0,e.jsxs)("div",{className:"right-panel",children:[!n&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("h2",{children:[s.formatMessage({id:"pages.subscribe.login.required",defaultMessage:"You need to login to subscribe"})," "]})}),n&&(0,e.jsxs)(e.Fragment,{children:[!g&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("h2",{children:[s.formatMessage({id:"pages.subscribe.now",defaultMessage:"Subscribe Now"})," "]}),(0,e.jsx)(h.Z,{}),(0,e.jsx)(Z.Vv,{options:_,children:(0,e.jsx)(z.Z,{onOK:k,onCancel:i,onError:q})})]}),g&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("h2",{children:[s.formatMessage({id:"pages.subscribe.thankyou",defaultMessage:"Thank you for subscribing!"})," "]}),(0,e.jsx)(h.Z,{}),(0,e.jsxs)("p",{children:[s.formatMessage({id:"pages.subscribe.management.description",defaultMessage:"You can manage your subscription via url "}),(0,e.jsx)("a",{href:"https://portal.wiseinf.com/subscriptions",children:"https://portal.wiseinf.com/subscriptions"}),"."]})]})]})]})]})}))})},J=(0,l.u3)(te)},7116:function(le,P,t){t.d(P,{Z:function(){return s}});var O=t(77117),d=t.n(O),D=t(13448),C=t.n(D),E=t(74815),N=t.n(E),V=t(28152),u=t.n(V),F=t(93236),G=t(24105),p=t(67040),f=t(93014),U=t(37487),h=t(58178),Z=t(17799),z=t(55688),Y=t(12146),T=t(37019),B=t(20213),K=t(60822),l=t(94013),W=t(9034),A=t(26230),$=t(66768),Q=t(25624),e=t(62086),L={labelCol:{span:6},wrapperCol:{span:18}},H={wrapperCol:{span:18,offset:4}},te=G.default.Option,J=(1*12-10)/(1*12),X=function(m){var g=m.onOK,w=m.onCancel,y=m.onError,n=(0,K.useIntl)(),se=p.Z.useForm(),k=u()(se,1),i=k[0],q=(0,F.useState)(!0),R=u()(q,2),_=R[0],v=R[1],a=(0,$.D3)(),ae=a.getAccessTokenSilently;(0,F.useEffect)(function(){ee()});var ee=function(){i.setFieldsValue({type:l.SubscriptionType.Monthly,amount:50,agreement:!1})},j=function(){var c=N()(C()().mark(function r(o){var x,b,M,ie;return C()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return x=i.getFieldValue("type"),b=i.getFieldValue("amount"),M={subscriptionType:x,amount:b,payChannel:"paypal",state:l.SubscriptionState.Paid,referenceId:o},S.next=5,ae({detailedResponse:!0});case 5:ie=S.sent,W.B.createSubscription(M,{withCredentials:!0,headers:{Authorization:"Bearer "+ie.id_token}}).then(function(oe){g(M)}).catch(function(oe){var he=oe;y(he)});case 7:case"end":return S.stop()}},r)}));return function(o){return c.apply(this,arguments)}}(),ne=function(r,o){var x=i.getFieldValue("type"),b="P-2DK51912401274252M3D6Y4Q";x==l.SubscriptionType.Yearly&&(b="P-1VT42567GB640534WM3D6ZUA");var M=i.getFieldValue("amount");return o.subscription.create({plan_id:b,quantity:M})},ce=(0,A.Up)(),de=u()(ce,1),re=de[0],ue=re.isPending,pe=re.isRejected,me=function(r,o){return i.validateFields().then(function(x){return j(r.subscriptionID)})},ve=function(r,o){w()},fe=function(r){y(r)},ge=function(){var r=i.getFieldValue("type"),o=i.getFieldValue("amount");switch(r){case l.SubscriptionType.Monthly:return 1*o;case l.SubscriptionType.Yearly:return 10*o;default:return 1*o}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(p.Z,d()(d()({},L),{},{form:i,name:"control-ref",initialValues:{type:l.SubscriptionType.Monthly,amount:10},children:[(0,e.jsx)(p.Z.Item,{name:"type",label:n.formatMessage({id:"model.subscription.type"}),rules:[{required:!0}],children:(0,e.jsxs)(f.ZP.Group,{children:[(0,e.jsx)(f.ZP,{value:l.SubscriptionType.Monthly,children:n.formatMessage({id:"model.subscription.type.monthly"})}),(0,e.jsxs)(f.ZP,{value:l.SubscriptionType.Yearly,children:[n.formatMessage({id:"model.subscription.type.yearly"}),(0,e.jsxs)("div",{className:"red-text",children:["Save ",(0,Q.rl)(J)," annually."]})]})]})}),(0,e.jsx)(p.Z.Item,{name:"amount",label:n.formatMessage({id:"model.subscription.amount"}),rules:[{required:!0}],children:(0,e.jsx)(U.Z,{min:10,max:1e4})}),(0,e.jsx)(p.Z.Item,{noStyle:!0,label:n.formatMessage({id:"components.subscriptionModal.totalCost"}),dependencies:["type","amount"],style:{marginTop:20},children:function(){return(0,e.jsxs)(h.Z,{children:[(0,e.jsx)(Z.Z,{span:"6",className:"totalPrice",children:n.formatMessage({id:"components.subscriptionModal.totalCost"})}),(0,e.jsxs)(Z.Z,{children:[(0,e.jsxs)("h2",{className:"price",children:[(0,e.jsx)("span",{className:"price__currency",children:"$"}),(0,e.jsx)("span",{className:"price__dollar",children:ge()}),".",(0,e.jsx)("span",{className:"price__cent",children:"00"}),(0,e.jsxs)("span",{children:[" / ",n.formatMessage({id:"components.subscriptionModal.paymentPeriod."+i.getFieldValue("type")})]})]}),n.formatMessage({id:"components.subscriptionModal.1monthfree"})]})]})}}),(0,e.jsx)("p",{}),(0,e.jsx)(p.Z.Item,d()(d()({name:"agreement",valuePropName:"checked",rules:[{validator:function(r,o){return o?Promise.resolve():Promise.reject(new Error("Should accept agreement"))}}]},H),{},{children:(0,e.jsxs)(z.Z,{onChange:function(r){v(!r.target.checked)},children:["I agree to the ",(0,e.jsx)("a",{href:"https://www.wiseinf.com/aggreement",children:" Services Agreement."})]})}))]})),(0,e.jsx)(Y.Z,{}),ue?(0,e.jsxs)(T.Z,{children:[n.formatMessage({id:"components.subscriptionModal.loadingScript"})," "]}):null,pe?(0,e.jsx)(B.Z,{message:n.formatMessage({id:"components.subscriptionModal.loadingScript.failed"})}):null,(0,e.jsx)(A.ch,{createSubscription:ne,onApprove:me,onError:fe,onCancel:ve,disabled:_,style:{shape:"rect",color:"blue",layout:"vertical",label:"subscribe"}})]})},s=X}}]);
